@require '_mixin'
@require '_font'

@import '_ease'

white = #fbf9f1
black = #1b1919

mq_mobile = "screen and (max-width: 720px)"
mq_tablet = "screen and (min-width: 720px) and (max-width: 1080px)"
mq_beyond = "screen and (min-width: 1920px)"

[ng\:cloak], 
[ng-cloak], 
[data-ng-cloak], 
[x-ng-cloak], 
.ng-cloak, 
.x-ng-cloak
  display none !important

html
  box-sizing border-box
  font-size 62.5%
  
  @media mq_mobile
    font-size 60%

* 
  box-sizing inherit
  margin 0
  outline 0
  padding 0
  
  &:before,
  &:after
    box-sizing inherit
    
a
  color inherit
  cursor pointer

audio,
canvas,
iframe,
img,
svg,
video
  vertical-align middle
  
hr
  border 0
  border-bottom .1rem solid black
  margin 0 auto
  
  &.p50
    width 50%
    
  &.p40
    width 40%
  
  &.p30
    width 30%
    
  &.p20
    width 20%
    
  &.p10
    width 10%
    
h1, h2, h3, h4, h5, h6, p
  margin 0

.cover
  background-color black
  height 200%
  position absolute
  top 0
  width 100%
  
.map
  padding-bottom 100% // 1:1 Aspect ratio
  width 100%
  
  // Cleanup map
  .gm-style
    .gm-style-cc,
    .gmnoscreen,
    .gmnoprint,
    > *:last-child
      display none
  
.map-container
  border .2rem solid black
  
.slabtext
  opacity 1
  
.page-back,
.page-next
  Oswald 1.2rem
  vendor 'backface-visibility', hidden
  transform translate3d(0,0,0)
  display block
  opacity .8
  position absolute
  text-align center
  top 0
  white-space nowrap
  width 100vh

.page-back
  transform rotate(90deg)
  transition left 250ms $easeInOutCubic 500ms, 
    opacity 250ms linear 500ms,
    margin 500ms $easeInOutCubic
  vendor 'transform-origin', 0 0 0
  left 7.5vw
  margin 0
  margin-left -.6rem

.page-next
  transform rotate(-90deg)
  transition right 250ms $easeInOutCubic 500ms, 
    opacity 250ms linear 500ms,
    margin 500ms $easeInOutCubic
  vendor 'transform-origin', 100% 0 0
  right 7.5vw
  margin 0
  margin-right -.6rem

body
  &.drag,
  &.slide,
  &.resize    
    .page-back
      transition left 250ms $easeInOutCubic, 
        opacity 250ms linear
      left 5.5vw
    .page-next
      transition right 250ms $easeInOutCubic, 
        opacity 250ms linear
      right 5.5vw
    .page-back,
    .page-next
      opacity 0

  &.resize
    .slabtext,
    .map-container
      opacity 0
      
  &.hover-next
    .page-next
      margin-right 0
  &.hover-back
    .page-back
      margin-left 0

body
  Playfair()
  background-color white
  color black
  font-size 1.0em
  overflow-y scroll
  position relative
  
  > nav
    // vendor 'background-blend-mode', multiply
    background-color rgba(255,255,255,0.1)
    display block
    height 100%
    left 0
    overflow hidden
    pointer-events none
    position fixed
    top 0
    width 100%
    z-index 1
    
  > main  
    transform translate3d(0, 0, 0)
    font-size 1.6rem
    
    .slick-list
      &.draggable
        cursor -webkit-grab
        cursor grab
        &:active
          cursor -webkit-grabbing
          cursor grabbing
          
    .page
      min-height 100vh
      position relative
                
      .content
        padding 4.0rem
        
        @media mq_mobile
          padding 3.0rem
        
	      header
          margin 1.0rem 0

          h1
            Oswald 6.4rem
            text-align justify
            
            .slabtext
              margin 2.0rem 0
              
        .divider
          border-top .1rem solid black
          border-bottom .1rem solid black
          padding .1rem 0
          
          .inner
            Playfair 1.6rem, 700, true
            border-top .1rem solid black
            border-bottom .3rem solid black
            padding: .5rem 0
            text-align center
            text-transform uppercase
            word-spacing .5rem
            
        main
          vendor 'column-count', 3
          vendor 'column-gap', 2.0rem    
          vendor 'column-rule', .1rem solid black 

          @media mq_mobile
            vendor 'column-count', 1
            
          @media mq_tablet
            vendor 'column-count', 2
            
          @media mq_beyond
            vendor 'column-count', 4
            
          > article
            display inline-block // Prevent article split
            padding 1.0rem 0 0

            > header
              margin 0
              margin-bottom 1.0rem
              h2
                Dosis 4.2rem
                line-height 1.0
                margin-bottom 1.0rem
                padding-top .1rem
              h3
                Playfair 3.2rem, 700, false
                line-height 1.0
                margin-bottom 1.0rem
            
            > p,
            > em,
            figcaption    
              line-height 1.4
              text-align justify
              text-indent 2.0rem
              
              &:last-of-type
                padding 0 0 1.0rem
              
              
            > img
              border .2rem solid black
              width 100%
              
            > figure
              margin 1.0rem 0
              img 
                border .2rem solid black
                width 100%
              figcaption
                font-size .9em
                line-height 1.3
                margin 0.5rem 0 0
                
              &:first-child {
                margin 0
              }
              
            
            
            
            
            &.box
              border .2rem solid black
      
      > footer
        padding 4.0rem   

      &.slick-slide    
        .cover
          transition visibility 500ms $easeInOutCubic, 
            background-color 500ms $easeInOutCubic
          background-color rgba(27, 25, 25, .04)
          cursor pointer
          visibility visible
          &:hover
            background-color rgba(27, 25, 25, 0)

      &.slick-center
        .cover
          background-color rgba(27, 25, 25, 0)
          visibility hidden
          
      // &.slick-current